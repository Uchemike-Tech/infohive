<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Timetable | InfoHive</title>
    <link rel="icon" type="image/png" href="assets/images/Logo.png">
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" />
</head>
<body>
    <section class="header">
        <nav>
            <a href="index.html"><img src="assets/images/Logo.png" alt="InfoHive Logo" /></a>
            <div class="nav-links" id="navLinks">
                <i class="fa fa-times" onclick="hideMenu()"></i>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="announcements.html">Announcements</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="timetable.html">Timetable</a></li>
                    <li><a href="admin-login.html" class="hero-btn">Admin</a></li>
                </ul>
            </div>
            <i class="fa fa-bars" onclick="showMenu()"></i>
        </nav>
        <div class="text-box">
            <h1>Timetable</h1>
        </div>
    </section>

    <section class="section timetable">
        <h2>300L Rain Semester Timetable</h2>
        <table id="timetable-container">
            <thead>
                <tr>
                    <th>Day</th>
                    <th>08:30</th>
                    <th>09:30</th>
                    <th>10:30</th>
                    <th>11:30</th>
                    <th>12:30</th>
                    <th>01:30</th>
                    <th>02:30</th>
                    <th>03:30</th>
                </tr>
            </thead>
            <tbody>
                <!-- Sample timetable data -->
                <tr>
                    <td>Monday</td>
                    <td>CSC 301</td>
                    <td>CSC 303</td>
                    <td>-</td>
                    <td>CSC 305</td>
                    <td>Break</td>
                    <td>CSC 307</td>
                    <td>LAB</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Tuesday</td>
                    <td>CSC 309</td>
                    <td>CSC 311</td>
                    <td>CSC 313</td>
                    <td>-</td>
                    <td>Break</td>
                    <td>CSC 315</td>
                    <td>-</td>
                    <td>Study</td>
                </tr>
                <tr>
                    <td>Wednesday</td>
                    <td>CSC 317</td>
                    <td>CSC 301</td>
                    <td>CSC 303</td>
                    <td>-</td>
                    <td>Break</td>
                    <td>LAB</td>
                    <td>LAB</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Thursday</td>
                    <td>CSC 305</td>
                    <td>CSC 307</td>
                    <td>CSC 309</td>
                    <td>CSC 311</td>
                    <td>Break</td>
                    <td>-</td>
                    <td>CSC 313</td>
                    <td>Study</td>
                </tr>
                <tr>
                    <td>Friday</td>
                    <td>CSC 315</td>
                    <td>CSC 317</td>
                    <td>-</td>
                    <td>Project</td>
                    <td>Break</td>
                    <td>Project</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
            </tbody>
        </table>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('/api/timetable')
                .then(response => response.json())
                .then(data => {
                    const tbody = document.querySelector('#timetable-container tbody');
                    tbody.innerHTML = '';
                    data.days.forEach(day => {
                        const row = document.createElement('tr');
                        row.innerHTML = `<td>${day.name}</td>` + day.slots.map(slot => `<td>${slot}</td>`).join('');
                        tbody.appendChild(row);
                    });
                });
        });

        var navLinks = document.getElementById("navLinks");
        function showMenu() {
            navLinks.style.right = "0";
        }
        function hideMenu() {
            navLinks.style.right = "-200px";
        }
    </script>
</body>
</html>
